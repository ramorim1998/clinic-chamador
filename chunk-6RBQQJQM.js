import{a as A,b as I,c as q,d as B,e as L,f as j,g as G,h as z,i as H,j as J,k as K}from"./chunk-LXF2IQBF.js";import{a as b,b as T,d as W,e as V,f as x,g as k,l as D}from"./chunk-F5ZOY5I2.js";import{$a as u,Aa as v,Ea as E,Ia as S,Oa as c,Pa as e,Qa as t,Ra as w,Sa as F,Ta as C,Ua as O,Xa as i,Y as y,Ya as R,Z as M,Za as p,ab as g,bb as f,d as _,qa as s,rb as N,sb as P}from"./chunk-HTKN4SOM.js";function Q(d,o){if(d&1&&(e(0,"option",9),i(1),t()),d&2){let m=o.$implicit;c("value",m),s(),p(" ",m," ")}}function U(d,o){if(d&1){let m=F();e(0,"div",10)(1,"strong"),i(2),t(),e(3,"div"),i(4),t(),e(5,"div"),i(6),t(),e(7,"button",11),C("click",function(){let l=y(m).$implicit,n=O();return M(n.chamar(l))}),i(8,"Chamar"),t()()}if(d&2){let m=o.$implicit;s(2),R(m.nome),s(2),p("Sala: ",m.sala),s(2),p("Senha: ",m.senha)}}var ae=(()=>{let o=class o{constructor(r){this.firestore=r,this.nome="",this.senha="",this.sala="",this.salas=["Sala ursinho","Sala rob\xF4","Sala princesa"],this.fila=[],this.loadFila()}loadFila(){let r=x(this.firestore,"chamados");W(r,{idField:"id"}).subscribe(l=>{this.fila=l.filter(n=>!n.status)})}cadastrar(){return _(this,null,function*(){let r=x(this.firestore,"chamados");yield V(r,{nome:this.nome,sala:this.sala,senha:this.senha,status:!1,createdAt:b(),chamadoAt:null}),this.nome="",this.senha="",this.sala=""})}chamar(r){return _(this,null,function*(){let l=k(this.firestore,"chamados",r.id);yield D(l,{status:!0,chamadoAt:b()})})}};o.\u0275fac=function(l){return new(l||o)(v(T))},o.\u0275cmp=E({type:o,selectors:[["app-recepcao"]],decls:22,vars:5,consts:[[1,"recepcao-container"],[1,"form",3,"ngSubmit"],["type","text","name","nome","required","",3,"ngModelChange","ngModel"],["name","sala","required","",3,"ngModelChange","ngModel"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","name","senha",3,"ngModelChange","ngModel"],["type","submit"],["class","card",4,"ngFor","ngForOf"],[3,"value"],[1,"card"],[3,"click"]],template:function(l,n){l&1&&(e(0,"div",0)(1,"h2"),i(2,"Recep\xE7\xE3o"),t(),e(3,"form",1),C("ngSubmit",function(){return n.cadastrar()}),e(4,"label"),i(5,"Nome:"),t(),e(6,"input",2),f("ngModelChange",function(a){return g(n.nome,a)||(n.nome=a),a}),t(),e(7,"label"),i(8,"Sala:"),t(),e(9,"select",3),f("ngModelChange",function(a){return g(n.sala,a)||(n.sala=a),a}),e(10,"option",4),i(11,"Selecione uma sala"),t(),S(12,Q,2,2,"option",5),t(),e(13,"label"),i(14,"Senha:"),t(),e(15,"input",6),f("ngModelChange",function(a){return g(n.senha,a)||(n.senha=a),a}),t(),e(16,"button",7),i(17,"Cadastrar"),t()(),w(18,"hr"),e(19,"h3"),i(20,"Pacientes na Fila"),t(),S(21,U,9,3,"div",8),t()),l&2&&(s(6),u("ngModel",n.nome),s(3),u("ngModel",n.sala),s(3),c("ngForOf",n.salas),s(3),u("ngModel",n.senha),s(6),c("ngForOf",n.fila))},dependencies:[K,j,z,H,A,G,I,q,J,L,B,P,N],styles:[".panel[_ngcontent-%COMP%]{padding:24px;max-width:800px;margin:30px auto;background:#fff;border-radius:12px}.form[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:10px;border-radius:8px;border:1px solid #e6eefc}button[_ngcontent-%COMP%]{padding:10px 14px;border-radius:8px;background:#0b75ff;color:#fff;border:0;cursor:pointer}.fila-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:10px;border-radius:8px;background:#f4fbff;margin-bottom:8px}"]});let d=o;return d})();export{ae as RecepcaoComponent};
